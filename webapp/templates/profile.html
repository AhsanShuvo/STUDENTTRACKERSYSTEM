{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Management System</title>

    <!---Bootstrap CSS--->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!---Main CSS--->
    <link rel="stylesheet" href="% static 'css/style.css' %">
</head>

<body>


    <!--Header Area Start-->
    <header>
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light">
                <a class="navbar-brand" href="#"><img src="" class="img-fluid" alt="LOGO"></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ml-auto align-items-center d-flex">
                        <li class="nav-item active">
                            <a class="nav-link first_item" href="{% url 'index' %}">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'contest' %}">Contest</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'ranking'%}">Rank</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'profile' %}">Profile</a>
                        </li> 
                        <li class="nav-item">
                            <a class="nav-link" href="#">Tutorial</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">login</a>
                        </li>


                    </ul>
                </div>
            </nav>
        </div>
    </header>




    <!---Header Area End--->

    <!---Banner-area Start--->




    <!---Banner-area End--->
    <!-- Table -->
    <div class="container"style="margin-top: 35px;">
      <div class="row">
        <div class="col-8">

          <div class="card">

                             <div class="card-body">
                                 <div class="card-title mb-4">
                                     <div class="d-flex justify-content-start">
                                         <div class="image-container">
                                             <img src="http://placehold.it/150x150" id="imgProfile" style="width: 150px; height: 150px" class="img-thumbnail" />
                                             <div class="middle">
                                                 <input type="button" class="btn btn-secondary" id="btnChangePicture" value="Change" />
                                                 <input type="file" style="display: none;" id="profilePicture" name="file" />
                                             </div>
                                         </div>
                                         <div class="userData ml-3">
                                           <h2 class="d-block" style="font-size: 1.5rem; font-weight: bold"><a href="javascript:void(0);">Jhony Mehedi</a></h2>
                                           <h6 class="d-block"><a href="javascript:void(0)">Email:</a> jhoney13-34@gmail.com</h6>
                                           <h6 class="d-block"><a href="javascript:void(0)">Department:</a> SWE</h6>
                                           <h6 class="d-block"><a href="javascript:void(0)">Point:</a> 2130</h6>
                                           <h6 class="d-block"><a href="javascript:void(0)">cf_handle:</a>_jhoney_</h6>
                                           <h6 class="d-block"><a href="javascript:void(0)">TotalSolve:</a>33</h6>
                                         </div>
                                         <div class="ml-auto">
                                             <input type="button" class="btn btn-primary d-none" id="btnDiscard" value="Discard Changes" />
                                         </div>
                                     </div>
                                 </div>

                                 <div class="row">
                                     <div class="col-12">
                                         <ul class="nav nav-tabs mb-4" id="myTab" role="tablist">
                                             <li class="nav-item">
                                                 <a class="nav-link active" id="basicInfo-tab" data-toggle="tab" href="#basicInfo" role="tab" aria-controls="basicInfo" aria-selected="true">Basic Info</a>
                                             </li>
                                             <li class="nav-item">
                                                 <a class="nav-link" id="connectedServices-tab" data-toggle="tab" href="#connectedServices" role="tab" aria-controls="connectedServices" aria-selected="false">Connected Services</a>
                                             </li>
                                         </ul>
                                         <div class="tab-content ml-1" id="myTabContent">
                                             <div class="tab-pane fade show active" id="basicInfo" role="tabpanel" aria-labelledby="basicInfo-tab">


                                                 <div class="row">
                                                     <div class="col-sm-3 col-md-2 col-5">
                                                         <label style="font-weight:bold;">Full Name</label>
                                                     </div>
                                                     <div class="col-md-8 col-6">
                                                         Jhoney Mehedi
                                                     </div>
                                                 </div>
                                                 <hr />

                                                 <div class="row">
                                                     <div class="col-sm-3 col-md-2 col-5">
                                                         <label style="font-weight:bold;">Rank in DIU</label>
                                                     </div>
                                                     <div class="col-md-8 col-6">
                                                         3
                                                     </div>
                                                 </div>
                                                 <hr />


                                                 <div class="row">
                                                     <div class="col-sm-3 col-md-2 col-5">
                                                         <label style="font-weight:bold;">Points</label>
                                                     </div>
                                                     <div class="col-md-8 col-6">
                                                         2130
                                                     </div>
                                                 </div>


                                             </div>
                                             <div class="tab-pane fade" id="connectedServices" role="tabpanel" aria-labelledby="ConnectedServices-tab">
                                                 Facebook, Google, Twitter Account that are connected to this account
                                             </div>
                                         </div>
                                     </div>
                                 </div>


                             </div>

                         </div>

        </div>



        <div class="col-sm-4">
          <table class="table table-bordered">
  <thead>
    <tr>

      <td colspan="2">Top list</td>

    </tr>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Point</th>
    </tr>

  </thead>
  <tbody>
    {% for x in profile %}
    <tr>
      <td>{{x.user.username}}</td>
      <td>{{x.points}}</td>
    </tr>
    {%endfor%}
  </tbody>
</table>
        </div>
      </div>
    </div>

<!-- table -->
<div class="container"style="padding: 80px;margin: 80px;">
  <div class="card text-center">
  <div class="card-header">
    Performance Graph
  </div>
  <div>
      <img src="{% url 'showimage' %}" alt="">
  </div>
  <div class="card-footer text-muted">
    Structure Details
  </div>
</div>

</div>







    <footer style="
    position: fixed;
    bottom: 0;
    width: 100%;z-index: 10;">
        <p class="text-center">copyrights@all rights reserved</p>
    </footer>
</header>
    <!---Bootstrap CDN--->

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<script>
$(document).ready(function () {
          $imgSrc = $('#imgProfile').attr('src');
          function readURL(input) {

              if (input.files && input.files[0]) {
                  var reader = new FileReader();

                  reader.onload = function (e) {
                      $('#imgProfile').attr('src', e.target.result);
                  };

                  reader.readAsDataURL(input.files[0]);
              }
          }
          $('#btnChangePicture').on('click', function () {
              // document.getElementById('profilePicture').click();
              if (!$('#btnChangePicture').hasClass('changing')) {
                  $('#profilePicture').click();
              }
              else {
                  // change
              }
          });
          $('#profilePicture').on('change', function () {
              readURL(this);
              $('#btnChangePicture').addClass('changing');
              $('#btnChangePicture').attr('value', 'Confirm');
              $('#btnDiscard').removeClass('d-none');
              // $('#imgProfile').attr('src', '');
          });
          $('#btnDiscard').on('click', function () {
              // if ($('#btnDiscard').hasClass('d-none')) {
              $('#btnChangePicture').removeClass('changing');
              $('#btnChangePicture').attr('value', 'Change');
              $('#btnDiscard').addClass('d-none');
              $('#imgProfile').attr('src', $imgSrc);
              $('#profilePicture').val('');
              // }
          });
      });
</script>

<script>

    $(function() {

  $(".progress").each(function() {

    var value = $(this).attr('data-value');
    var left = $(this).find('.progress-left .progress-bar');
    var right = $(this).find('.progress-right .progress-bar');

    if (value > 0) {
      if (value <= 50) {
        right.css('transform', 'rotate(' + percentageToDegrees(value) + 'deg)')
      } else {
        right.css('transform', 'rotate(180deg)')
        left.css('transform', 'rotate(' + percentageToDegrees(value - 50) + 'deg)')
      }
    }

  })

  function percentageToDegrees(percentage) {

    return percentage / 100 * 360

  }

});


    </script>

</body>

</html>
